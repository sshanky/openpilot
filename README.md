[![intro_vid](https://github.com/twilsonco/openpilot/blob/log-info/img/comma-steering-control-vid.gif?raw=true)](https://youtu.be/G_SNRJCGKHs?si=4lMWhB3kcHj6Fu9E)

# Improving controls with log data

Provide feedback on lateral performance here: https://forms.gle/dtGQrY3TSkyQo6nu7

Here's plots of the [comma-steering-control](https://github.com/commaai/comma-steering-control) dataset and the data I've collected so far from the community.
Community log collection is in a limited state; only cars not in the comma-steering-control dataset will be collected for the time being.
I'll update here periodically so log contributors can see which speeds/angles need to be filled out.

Head to the Comma, Community, or SunnyPilot Discord server #tuning (or tuning-nnff) channels if you want to contribute or learn more!

## Table of Contents
- [1 History and future of data-driven controls improvements](https://github.com/twilsonco/openpilot/blob/log-info/sec/1%20History%20and%20future%20of%20data-driven%20controls%20improvments.md)
- [2 Understanding the NNFF model and plots](https://github.com/twilsonco/openpilot/blob/log-info/sec/2%20Understanding%20the%20NNFF%20model%20and%20plots.md)
- [3 Community vehicle log counts](#current-counts-of-collected-logs) (168112 total; 2801 hours)
- [4 Community lateral data](https://github.com/twilsonco/openpilot/blob/log-info/sec/4%20Community%20lateral%20data.md) (      75 cars)
- [5a Community lateral torque NNFF fits steer command](https://github.com/twilsonco/openpilot/blob/log-info/sec/5a%20Community%20lateral%20torque%20NNFF%20fits%20steer%20command.md) (42 cars)
- [5b Community lateral torque NNFF fits LKA EPS torque](https://github.com/twilsonco/openpilot/blob/log-info/sec/5b%20Community%20lateral%20torque%20NNFF%20fits%20LKA%20EPS%20torque.md) (43 cars)
- [5c Community lateral torque NNFF fits driver torque](https://github.com/twilsonco/openpilot/blob/log-info/sec/5c%20Community%20lateral%20torque%20NNFF%20fits%20driver%20torque.md) (34 cars)
- [5d Community lateral torque NNFF fits driver EPS combined torque](https://github.com/twilsonco/openpilot/blob/log-info/sec/5d%20Community%20lateral%20torque%20NNFF%20fits%20driver%20EPS%20combined%20torque.md) (32 cars)
- [6a Comma lateral data combined firmware](https://github.com/twilsonco/openpilot/blob/log-info/sec/6a%20Comma%20lateral%20data%20combined%20firmware.md) (     121 cars)
- [6b Comma lateral data separate firmwares](https://github.com/twilsonco/openpilot/blob/log-info/sec/6b%20Comma%20lateral%20data%20separate%20firmwares.md) (     526 cars)
- [6c Comma lateral data EPS firmware comparison](https://github.com/twilsonco/openpilot/blob/log-info/sec/6c%20Comma%20lateral%20data%20EPS%20firmware%20comparison.md) (      95 cars)
- [7a Comma lateral torque NNFF fits - combined firmwares](https://github.com/twilsonco/openpilot/blob/log-info/sec/7a%20Comma%20lateral%20torque%20NNFF%20fits%20-%20combined%20firmwares.md) (106 cars)
- [7b Comma lateral torque NNFF fits - separate firmwares](https://github.com/twilsonco/openpilot/blob/log-info/sec/7b%20Comma%20lateral%20torque%20NNFF%20fits%20-%20separate%20firmwares.md) (     401 cars)
- [7c Comma lateral torque NNFF fits - EPS firmware comparison](https://github.com/twilsonco/openpilot/blob/log-info/sec/7c%20Comma%20lateral%20torque%20NNFF%20fits%20-%20EPS%20firmware%20comparison.md) (      87 cars)
- [7d Comma lateral torque NNFF fits - EPS firmware comparison filtered](https://github.com/twilsonco/openpilot/blob/log-info/sec/7d%20Comma%20lateral%20torque%20NNFF%20fits%20-%20EPS%20firmware%20comparison%20filtered.md) (      71 cars)
- [8 Manual preliminary data fits](https://github.com/twilsonco/openpilot/blob/log-info/sec/8%20Manual%20preliminary%20data%20fits.md) (      30 cars)



## Current counts of collected logs

```
volkswagen                              10365 (22G)
  VOLKSWAGEN TIGUAN 2ND GEN             480 (1.1G)
  VOLKSWAGEN SHARAN 2ND GEN             59 (106M)
  VOLKSWAGEN POLO 6TH GEN               549 (1.1G)
  VOLKSWAGEN PASSAT NMS                 1470 (2.6G)
  VOLKSWAGEN PASSAT 8TH GEN             660 (1.7G)
  VOLKSWAGEN JETTA 7TH GEN              362 (1020M)
  VOLKSWAGEN GOLF 7TH GEN               753 (1.8G)
  VOLKSWAGEN GOLF 6TH GEN               37 (51M)
  VOLKSWAGEN ATLAS 1ST GEN              1013 (2.3G)
  SKODA KODIAQ 1ST GEN                  3330 (7.1G)
  SKODA KAROQ 1ST GEN                   578 (1.1G)
  SEAT LEON 3RD GEN                     412 (815M)
  AUDI A3 3RD GEN                       662 (1.2G)
toyota                                  23568 (58G)
  TOYOTA SIENNA 2018                    56 (127M)
  TOYOTA RAV4 HYBRID 2022               14 (21M)
  TOYOTA RAV4 HYBRID 2019               4441 (11G)
  TOYOTA RAV4 2019                      1200 (3.4G)
TOYOTA PRIUS v 2017                     1370 (2.8G)
  TOYOTA PRIUS TSS2 2021                6393 (17G)
  TOYOTA PRIUS 2017                     2504 (6.6G)
  TOYOTA HIGHLANDER HYBRID 2020         16 (21M)
  TOYOTA COROLLA TSS2 2019              556 (1.3G)
  TOYOTA COROLLA HYBRID TSS2 2019       1786 (4.1G)
  TOYOTA COROLLA 2017                   3569 (8.5G)
  TOYOTA CAMRY HYBRID 2021              1116 (2.6G)
  LEXUS RX 2020                         105 (249M)
  LEXUS ES 2019                         441 (1.1G)
subaru                                  3758 (11G)
  SUBARU OUTBACK 2018 - 2019            19 (20M)
  SUBARU OUTBACK 6TH GEN                472 (1.2G)
  SUBARU OUTBACK 2015 - 2017            85 (219M)
  SUBARU LEGACY 7TH GEN                 510 (1.5G)
  SUBARU LEGACY 2015 - 2018             1244 (3.9G)
  SUBARU IMPREZA SPORT 2020             106 (305M)
  SUBARU FORESTER 2017 - 2018           1322 (3.2G)
nissan                                  1297 (2.4G)
  NISSAN LEAF 2018                      1297 (2.4G)
mazda                                   5606 (11G)
  MAZDA CX-9 2021                       24 (31M)
  MAZDA CX-9                            1301 (2.3G)
  MAZDA CX-5 2022                       115 (319M)
  MAZDA CX-5                            1377 (3.1G)
  MAZDA 3 2019                          2593 (4.7G)
  MAZDA 3 2014                          76 (141M)
  MAZDA 3                               120 (273M)
ford                                    1829 (3.0G)
  MURPHY CAR                            2 (2.9M)
  FORD MAVERICK 1ST GEN                 883 (1.5G)
  FORD F-150 14TH GEN                   944 (1.6G)
chrysler                                17522 (33G)
Dodge Durango 2020                      413 (722M)
  RAM HD 5TH GEN                        856 (1.7G)
  RAM 1500 5TH GEN                      14252 (27G)
  JEEP GRAND CHEROKEE V6 2018           56 (114M)
  CHRYSLER PACIFICA HYBRID 2019         900 (1.6G)
  CHRYSLER PACIFICA 2018                1045 (1.9G)
hyundai                                 47221 (115G)
  GENESIS G70 2020                      539 (1001M)
  HYUNDAI IONIQ ELECTRIC 2020           30 (50M)
  KIA STINGER GT2 2018                  95 (213M)
  KIA SPORTAGE 5TH GEN                  3200 (8.2G)
  KIA NIRO HYBRID 2ND GEN               377 (1.1G)
  KIA NIRO HYBRID 2021                  2908 (7.7G)
  KIA NIRO HYBRID 2019                  81 (191M)
  KIA NIRO EV 2020                      2114 (5.6G)
  KIA K8 HYBRID 1ST GEN                 1 (108K)
  KIA EV6 2022                          4438 (12G)
  KIA CEED INTRO ED 2019                10515 (25G)
  HYUNDAI TUCSON HYBRID 4TH GEN         15 (20M)
  HYUNDAI SONATA HYBRID 2021            257 (664M)
  HYUNDAI SONATA 2020                   2914 (7.6G)
  HYUNDAI SANTA FE HYBRID 2022          13356 (30G)
  HYUNDAI SANTA FE 2022                 810 (1.9G)
  HYUNDAI SANTA FE 2019                 620 (1.8G)
  HYUNDAI PALISADE 2020                 863 (2.3G)
  HYUNDAI KONA ELECTRIC 2022            985 (2.4G)
  HYUNDAI IONIQ PHEV 2020               1615 (4.1G)
  HYUNDAI IONIQ HYBRID 2017-2019        18 (26M)
  HYUNDAI IONIQ 5 2022                  1189 (3.2G)
  HYUNDAI GENESIS 2015-2016             118 (254M)
  GENESIS GV70 1ST GEN                  1 (72K)
  GENESIS (DH)                          161 (392M)
honda                                   6724 (16G)
  HONDA RIDGELINE 2017                  3360 (8.0G)
  HONDA HR-V 2023                       136 (274M)
  HONDA HRV                             1 (4.0K)
  HONDA CLARITY 2018                    1419 (3.3G)
  HONDA CIVIC (BOSCH) 2019              536 (1.3G)
  HONDA CIVIC 2022                      28 (53M)
  HONDA ACCORD 2018                     1244 (3.0G)
gm                                      50036 (91G)
  CHEVROLET BOLT EUV 2022               6160 (12G)
  CADILLAC XT4 2023                     3 (1.9M)
  CADILLAC ESCALADE ESV 2019            1 (4.0K)
  CADILLAC ESCALADE 2017                24 (38M)
  BUICK LACROSSE 2017                   96 (173M)
  GMC YUKON NO ACC                      101 (186M)
  GMC ACADIA DENALI 2018                4754 (9.4G)
  CHEVROLET VOLT PREMIER 2018           12882 (24G)
  CHEVROLET VOLT PREMIER 2017           4573 (8.2G)
  CHEVROLET TRAILBLAZER 2021            6147 (12G)
  CHEVROLET SUBURBAN PREMIER 2019       61 (110M)
  CHEVROLET SILVERADO 1500 2020         14308 (26G)
  CHEVROLET EQUINOX NO ACC              6 (3.6M)
  CHEVROLET BOLT EV NO ACC              919 (1.5G)
```

Last updated Jan 5, 2024
