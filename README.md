[![intro_vid](https://github.com/twilsonco/openpilot/blob/log-info/img/comma-steering-control-vid.gif?raw=true)](https://youtu.be/G_SNRJCGKHs?si=4lMWhB3kcHj6Fu9E)

# Improving controls with log data

Provide feedback on lateral performance here: https://forms.gle/dtGQrY3TSkyQo6nu7

Here's plots of the [comma-steering-control](https://github.com/commaai/comma-steering-control) dataset and the data I've collected so far from the community.
Community log collection is in a limited state; only cars not in the comma-steering-control dataset will be collected for the time being.
I'll update here periodically so log contributors can see which speeds/angles need to be filled out.

Head to the Comma, Community, or SunnyPilot Discord server #tuning (or tuning-nnff) channels if you want to contribute or learn more!

## Table of Contents
- [1 History and future of data-driven controls improvements](https://github.com/twilsonco/openpilot/blob/log-info/sec/1%20History%20and%20future%20of%20data-driven%20controls%20improvments.md)
- [2 Understanding the NNFF model and plots](https://github.com/twilsonco/openpilot/blob/log-info/sec/2%20Understanding%20the%20NNFF%20model%20and%20plots.md)
- [3 Community vehicle log counts](#current-counts-of-collected-logs) (167465 total; 2791 hours)
- [4 Community lateral data](https://github.com/twilsonco/openpilot/blob/log-info/sec/4%20Community%20lateral%20data.md) (      75 cars)
- [5a Community lateral torque NNFF fits steer command](https://github.com/twilsonco/openpilot/blob/log-info/sec/5a%20Community%20lateral%20torque%20NNFF%20fits%20steer%20command.md) (42 cars)
- [5b Community lateral torque NNFF fits LKA EPS torque](https://github.com/twilsonco/openpilot/blob/log-info/sec/5b%20Community%20lateral%20torque%20NNFF%20fits%20LKA%20EPS%20torque.md) (43 cars)
- [5c Community lateral torque NNFF fits driver torque](https://github.com/twilsonco/openpilot/blob/log-info/sec/5c%20Community%20lateral%20torque%20NNFF%20fits%20driver%20torque.md) (34 cars)
- [5d Community lateral torque NNFF fits driver EPS combined torque](https://github.com/twilsonco/openpilot/blob/log-info/sec/5d%20Community%20lateral%20torque%20NNFF%20fits%20driver%20EPS%20combined%20torque.md) (32 cars)
- [6a Comma lateral data combined firmware](https://github.com/twilsonco/openpilot/blob/log-info/sec/6a%20Comma%20lateral%20data%20combined%20firmware.md) (     121 cars)
- [6b Comma lateral data separate firmwares](https://github.com/twilsonco/openpilot/blob/log-info/sec/6b%20Comma%20lateral%20data%20separate%20firmwares.md) (     526 cars)
- [6c Comma lateral data EPS firmware comparison](https://github.com/twilsonco/openpilot/blob/log-info/sec/6c%20Comma%20lateral%20data%20EPS%20firmware%20comparison.md) (      95 cars)
- [7a Comma lateral torque NNFF fits - combined firmwares](https://github.com/twilsonco/openpilot/blob/log-info/sec/7a%20Comma%20lateral%20torque%20NNFF%20fits%20-%20combined%20firmwares.md) (106 cars)
- [7b Comma lateral torque NNFF fits - separate firmwares](https://github.com/twilsonco/openpilot/blob/log-info/sec/7b%20Comma%20lateral%20torque%20NNFF%20fits%20-%20separate%20firmwares.md) (     401 cars)
- [7c Comma lateral torque NNFF fits - EPS firmware comparison](https://github.com/twilsonco/openpilot/blob/log-info/sec/7c%20Comma%20lateral%20torque%20NNFF%20fits%20-%20EPS%20firmware%20comparison.md) (      87 cars)
- [7d Comma lateral torque NNFF fits - EPS firmware comparison filtered](https://github.com/twilsonco/openpilot/blob/log-info/sec/7d%20Comma%20lateral%20torque%20NNFF%20fits%20-%20EPS%20firmware%20comparison%20filtered.md) (      71 cars)
- [8 Manual preliminary data fits](https://github.com/twilsonco/openpilot/blob/log-info/sec/8%20Manual%20preliminary%20data%20fits.md) (      30 cars)



## Current counts of collected logs (list updated Dec 18, 2023)

```
volkswagen                              9948 (18G)
  VOLKSWAGEN TIGUAN 2ND GEN             474 (894M)
  VOLKSWAGEN SHARAN 2ND GEN             59 (105M)
  VOLKSWAGEN POLO 6TH GEN               528 (953M)
  VOLKSWAGEN PASSAT NMS                 1470 (2.5G)
  VOLKSWAGEN PASSAT 8TH GEN             657 (1.4G)
  VOLKSWAGEN JETTA 7TH GEN              359 (781M)
  VOLKSWAGEN GOLF 7TH GEN               747 (1.4G)
  VOLKSWAGEN GOLF 6TH GEN               37 (51M)
  VOLKSWAGEN ATLAS 1ST GEN              1010 (1.9G)
  SKODA KODIAQ 1ST GEN                  3324 (5.9G)
  SKODA KAROQ 1ST GEN                   575 (949M)
  SEAT LEON 3RD GEN                     49 (90M)
  AUDI A3 3RD GEN                       659 (1.1G)
toyota                                  26115 (52G)
  TOYOTA SIENNA 2018                    53 (102M)
  TOYOTA RAV4 HYBRID 2022               11 (16M)
  TOYOTA RAV4 HYBRID 2019               4438 (8.8G)
  TOYOTA RAV4 2019                      1194 (2.6G)
TOYOTA PRIUS v 2017                     2342 (4.7G)
  TOYOTA PRIUS TSS2 2021                6390 (14G)
  TOYOTA PRIUS 2017                     2503 (5.1G)
  TOYOTA HIGHLANDER HYBRID 2020         13 (18M)
  TOYOTA COROLLA TSS2 2019              722 (1.4G)
  TOYOTA COROLLA HYBRID TSS2 2019       2588 (4.9G)
  TOYOTA COROLLA 2017                   3589 (7.0G)
  TOYOTA CAMRY HYBRID 2021              1113 (2.1G)
  LEXUS RX 2020                         102 (198M)
  LEXUS ES 2019                         1057 (2.2G)
subaru                                  3066 (6.0G)
  SUBARU OUTBACK 6TH GEN                465 (833M)
  SUBARU OUTBACK 2015 - 2017            78 (151M)
  SUBARU LEGACY 7TH GEN                 503 (1021M)
  SUBARU LEGACY 2015 - 2018             1237 (2.6G)
  SUBARU IMPREZA SPORT 2020             99 (247M)
  SUBARU FORESTER 2017 - 2018           684 (1.3G)
nissan                                  1297 (2.1G)
  NISSAN LEAF 2018                      1297 (2.1G)
mazda                                   4993 (8.6G)
  MAZDA CX-9 2021                       16 (25M)
  MAZDA CX-9                            1294 (2.2G)
  MAZDA CX-5 2022                       105 (178M)
  MAZDA CX-5                            1370 (2.8G)
  MAZDA 3 2019                          2106 (3.3G)
  MAZDA 3 2014                          66 (109M)
  MAZDA 3                               35 (62M)
hyundai                                 46888 (93G)
  KIA STINGER GT2 2018                  92 (171M)
  KIA SPORTAGE 5TH GEN                  3197 (6.4G)
  KIA NIRO HYBRID 2ND GEN               376 (815M)
  KIA NIRO HYBRID 2021                  2905 (6.0G)
  KIA NIRO HYBRID 2019                  78 (149M)
  KIA NIRO EV 2020                      2111 (4.3G)
  KIA K8 HYBRID 1ST GEN                 1785 (3.8G)
  KIA EV6 2022                          4688 (9.7G)
  KIA CEED INTRO ED 2019                10512 (21G)
  HYUNDAI TUCSON HYBRID 4TH GEN         7 (5.8M)
  HYUNDAI SONATA HYBRID 2021            254 (509M)
  HYUNDAI SONATA 2020                   2908 (5.9G)
  HYUNDAI SANTA FE HYBRID 2022          11899 (23G)
  HYUNDAI SANTA FE 2022                 1 (4.0K)
  HYUNDAI SANTA FE 2019                 617 (1.4G)
  HYUNDAI PALISADE 2020                 857 (1.8G)
  HYUNDAI KONA ELECTRIC 2022            125 (255M)
  HYUNDAI IONIQ PHEV 2020               1612 (3.2G)
  HYUNDAI IONIQ HYBRID 2017-2019        15 (21M)
  HYUNDAI IONIQ 5 2022                  1267 (2.7G)
  HYUNDAI GENESIS 2015-2016             116 (219M)
  GENESIS GV70 1ST GEN                  1307 (2.8G)
  GENESIS (DH)                          159 (328M)
honda                                   6178 (12G)
  HONDA RIDGELINE 2017                  3348 (6.4G)
  HONDA HR-V 2023                       129 (231M)
  HONDA HRV                             1 (4.0K)
  HONDA CLARITY 2018                    930 (1.8G)
  HONDA CIVIC (BOSCH) 2019              526 (1.1G)
  HONDA CIVIC 2022                      25 (44M)
  HONDA ACCORD 2018                     1218 (2.4G)
gm                                      49871 (91G)
  GMC YUKON NO ACC                      47 (72M)
  GMC ACADIA DENALI 2018                6633 (13G)
  CHEVROLET VOLT PREMIER 2018           11864 (22G)
  CHEVROLET VOLT PREMIER 2017           4573 (8.2G)
  CHEVROLET TRAILBLAZER 2021            5096 (9.2G)
  CHEVROLET SUBURBAN PREMIER 2019       61 (109M)
  CHEVROLET SILVERADO 1500 2020         13359 (25G)
  CHEVROLET EQUINOX NO ACC              574 (1022M)
  CHEVROLET BOLT EV NO ACC              919 (1.5G)
  CHEVROLET BOLT EUV 2022               6160 (12G)
  CADILLAC XT4 2023                     464 (758M)
  CADILLAC ESCALADE ESV 2019            1 (4.0K)
  CADILLAC ESCALADE 2017                24 (38M)
  BUICK LACROSSE 2017                   96 (172M)
ford                                    1829 (2.9G)
  MURPHY CAR                            2 (2.6M)
  FORD MAVERICK 1ST GEN                 883 (1.3G)
  FORD F-150 14TH GEN                   944 (1.6G)
chrysler                                17092 (30G)
  JEEP GRAND CHEROKEE V6 2018           50 (89M)
  RAM HD 5TH GEN                        853 (1.6G)
  RAM 1500 5TH GEN                      14249 (25G)
  CHRYSLER PACIFICA HYBRID 2019         897 (1.5G)
  CHRYSLER PACIFICA 2018                1042 (1.7G)
```

Last updated December 18, 2023
